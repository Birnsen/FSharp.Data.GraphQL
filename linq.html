<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>LINQ support
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="FSharp implementation of Facebook GraphQL query language"/>
    <meta name="author" content="Bazinga Technologies Inc"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FSharp.Data.GraphQL/content/style.css" />
    <script type="text/javascript" src="/FSharp.Data.GraphQL/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/bazingatechnologies/FSharp.Data.GraphQL">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/FSharp.Data.GraphQL/index.html">FSharp.Data.GraphQL</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="LINQ-support" class="anchor" href="#LINQ-support">LINQ support</a></h1>
<h2><a name="Tracking-properties" class="anchor" href="#Tracking-properties">Tracking properties</a></h2>
<p>One of the unique features, <code>ExecutionInfo</code> gives to FSharp.Data.GraphQL, is an ability to make more advanced analysis of the requested query ahead of its execution. One of them is an ability to create so called property trees, also known as <strong>Tracker</strong>s.</p>
<p><strong>Tracker</strong> is a tree of all dependent members (properties or fields) accessed in given execution info resolver expression, as well as its continuations in all nested execution infos, that will be called further. ExecutionInfo resolve object parameter is considered as a tree root in this case.</p>
<p>Keep in mind that tracker is only able to resolve dependent properties within range of the given resolver expression - it won't be able to determine which members were accessed in subsequent method calls.</p>
<blockquote>
<p>WARNING: At the moment of current version (v0.2-beta) this feature is not working with abstract types either.</p>
</blockquote>
<h3><a name="Example-using-property-trees-with-Entity-Framework" class="anchor" href="#Example-using-property-trees-with-Entity-Framework">Example: using property trees with Entity Framework</a></h3>
<p>With this knowledge about how to construct property trees set in place, we can use them for example for things like optimization of SQL queries.</p>
<p>Think about using GraphQL for performing a database query using Entity Framework as part of the field resolution:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">schema</span> <span class="o">=</span> <span class="i">Schema</span>(<span class="i">Define</span><span class="o">.</span><span class="i">Object</span>(<span class="s">&quot;RootQuery&quot;</span>, [
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;people&quot;</span>, <span class="i">ListOf</span> <span class="i">Person</span>, <span class="k">fun</span> <span class="i">ctx</span> <span class="i">db</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">query</span> {
            <span class="k">for</span> <span class="i">person</span> <span class="k">in</span> <span class="i">db</span><span class="o">.</span><span class="i">People</span> <span class="k">do</span>
            <span class="i">select</span> <span class="i">person</span>
        } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">toList</span>)
]))
</code></pre></td>
</tr>
</table>
<p>While this is very simplistic query, it could expose potential problem - as we don't know what other entities beside <code>People</code> table will be queried as part of GraphQL query at this point, as subsequent objects may define their own fields with other relationships not visible from this function. This may potentially lead to problem of N+1 SELECTs, where related tables - which have not been mentioned in the original database query - could be a subjects of many subsequent queries.</p>
<p>However, given information lying in <code>ExecutionInfo</code> - and property <code>Tracker</code> tree as its extension - we are able to determine which entity relations will be called before actual execution of the query. Given that knowledge, we can construct a simple logic which will apply <code>Include("&lt;Relationship&gt;")</code> method to warn Entity Framework, which tables to prefetch when an actual LINQ query will be called.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">Data</span><span class="o">.</span><span class="i">Objects</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="i">Data</span><span class="o">.</span><span class="i">GraphQL</span><span class="o">.</span><span class="i">Types</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="i">Data</span><span class="o">.</span><span class="i">GraphQL</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">Linq</span>

<span class="k">type</span> <span class="i">ObjectQuery</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="k">with</span>
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span class="i">Include</span>(<span class="i">info</span><span class="o">:</span> <span class="i">ExecutionInfo</span>, <span class="o">?</span><span class="i">variables</span>) <span class="o">=</span>
        <span class="k">let</span> <span class="i">path</span> <span class="i">prefix</span> <span class="i">track</span> <span class="o">=</span>
            <span class="k">match</span> <span class="i">prefix</span>, <span class="i">track</span><span class="o">.</span><span class="i">Name</span> <span class="k">with</span>
            | <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="i">None</span>, <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="i">Some</span> <span class="i">name</span> <span class="k">-&gt;</span> <span class="i">name</span>
            | <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="i">Some</span> <span class="i">p</span>, <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="i">Some</span> <span class="i">name</span> <span class="k">-&gt;</span> <span class="i">p</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="i">name</span>
            | <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="i">Some</span> <span class="i">p</span>, <span onmouseout="hideTip(event, 'fs10', 17)" onmouseover="showTip(event, 'fs10', 17)" class="i">None</span> <span class="k">-&gt;</span> <span class="i">p</span>
        <span class="k">let</span> <span class="k">rec</span> <span class="i">incl</span> (<span class="i">source</span><span class="o">:</span> <span class="i">ObjectQuery</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span>) <span class="i">tracker</span> <span class="i">prefix</span> <span class="o">=</span>
            <span class="k">match</span> <span class="i">tracker</span> <span class="k">with</span>
            | <span class="i">Direct</span>(_,_) <span class="k">-&gt;</span> <span class="i">source</span>
            | <span class="i">Compose</span>(<span class="i">track</span>, _, <span class="i">children</span>) <span class="k">-&gt;</span>
                <span class="k">let</span> <span class="i">newPrefix</span> <span class="o">=</span> (<span class="i">path</span> <span class="i">prefix</span> <span class="i">track</span>)
                <span class="k">let</span> <span class="i">prefixOpt</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">Some</span> <span class="i">newPrefix</span>
                <span class="k">let</span> <span class="i">partial</span> <span class="o">=</span> <span class="i">source</span><span class="o">.</span><span class="i">Include</span> <span class="i">newPrefix</span>
                <span class="i">children</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="i">fold</span> (<span class="k">fun</span> <span class="i">acc</span> <span class="i">child</span> <span class="k">-&gt;</span> <span class="i">incl</span> <span class="i">acc</span> <span class="i">child</span> <span class="i">prefixOpt</span>) <span class="i">partial</span>
        <span class="k">let</span> <span class="i">top</span> <span class="o">=</span> <span class="i">tracker</span> (<span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="i">defaultArg</span> <span class="i">variables</span> <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 23)" onmouseover="showTip(event, 'fs16', 23)" class="i">empty</span>) <span class="i">info</span>
        <span class="k">let</span> (<span class="i">Compose</span>(_,_, <span class="i">children</span>)) <span class="o">=</span> <span class="i">top</span>
        <span class="i">children</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs12', 24)" onmouseover="showTip(event, 'fs12', 24)" class="i">Set</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 25)" onmouseover="showTip(event, 'fs13', 25)" class="i">fold</span> (<span class="k">fun</span> <span class="i">acc</span> <span class="i">child</span> <span class="k">-&gt;</span> <span class="i">incl</span> <span class="i">acc</span> <span class="i">child</span> <span onmouseout="hideTip(event, 'fs10', 26)" onmouseover="showTip(event, 'fs10', 26)" class="i">None</span>) <span class="i">this</span>
</code></pre></td>
</tr>
</table>
<p>With that, we can simply modify the code from the beginning, to include all referenced tables - even thou the GraphQL query itself may still be constructed dynamically:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 27)" onmouseover="showTip(event, 'fs1', 27)" class="i">schema</span> <span class="o">=</span> <span class="i">Schema</span>(<span class="i">Define</span><span class="o">.</span><span class="i">Object</span>(<span class="s">&quot;RootQuery&quot;</span>, [
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;people&quot;</span>, <span class="i">ListOf</span> <span class="i">Person</span>, <span class="k">fun</span> <span class="i">ctx</span> <span class="i">db</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs2', 28)" onmouseover="showTip(event, 'fs2', 28)" class="i">query</span> {
            <span class="k">for</span> <span class="i">person</span> <span class="k">in</span> <span class="i">db</span><span class="o">.</span><span class="i">People</span><span class="o">.</span><span class="i">Include</span>(<span class="i">ctx</span><span class="o">.</span><span class="i">ExecutionInfo</span>, <span class="i">ctx</span><span class="o">.</span><span class="i">Variables</span>) <span class="k">do</span>
            <span class="i">select</span> <span class="i">person</span>
        } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 29)" onmouseover="showTip(event, 'fs3', 29)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 30)" onmouseover="showTip(event, 'fs4', 30)" class="i">toList</span>)
]))
</code></pre></td>
</tr>
</table>
<h2><a name="LINQ-generation" class="anchor" href="#LINQ-generation">LINQ generation</a></h2>
<p>Beside being able to use trackers for custom use, FSharp.Data.GraphQL server offers an ability to apply that information in form of LINQ expression on top of an existing <code>IQueryable&lt;&gt;</code> collection. Such application is able to create subsequent selects if form of <code>A</code> &amp;rArr; <code>A'{ list of field acessed from A }</code>, where it takes only those fields, which will be used during query execution.</p>
<p>What it also does is free interpretation of field parameters into their LINQ "equivalent". This includes:</p>
<ul>
<li><code>skip</code>, <code>take</code>, <code>orderBy</code> and <code>orderByDesc</code> will be translated into corresponding LINQ equivalent methods.</li>
<li><code>id</code> will be translated into <code>.Where(x =&gt; x.Id == &lt;id&gt;)</code>. This requires returned type to provide an Id member used as entity identifier.</li>
<li><code>first</code>/<code>after</code> and <code>last</code>/<code>before</code> combinations known to the <a href="https://facebook.github.io/relay/">RelayJS</a> users will be translated into <code>.OrderBy(x =&gt; x.Id).Where(x =&gt; x.Id &gt; &lt;after&gt;).Take(&lt;first&gt;)</code> and <code>.OrderByDescending(x =&gt; x.Id).Wherex(x =&gt; x.Id &lt; &lt;before&gt;).Take(&lt;last&gt;)</code> equivalents. This also requires from queried elements to provide Id member used as entity identifier.</li>
</ul>
<p>This list can be extended and overriden by custom user implementation.</p>
<p>To better illustrate lets use the example. Consider having following type definition:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="t">Contact</span> <span class="o">=</span> { <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="i">Email</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="t">string</span>; <span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="i">PhoneNumber</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 35)" onmouseover="showTip(event, 'fs19', 35)" class="t">string</span> }
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="t">Person</span> <span class="o">=</span> { <span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="i">FirstName</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 38)" onmouseover="showTip(event, 'fs19', 38)" class="t">string</span>; <span onmouseout="hideTip(event, 'fs23', 39)" onmouseover="showTip(event, 'fs23', 39)" class="i">LastName</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 40)" onmouseover="showTip(event, 'fs19', 40)" class="t">string</span>; <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="i">Contacts</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs17', 42)" onmouseover="showTip(event, 'fs17', 42)" class="t">Contact</span> <span onmouseout="hideTip(event, 'fs25', 43)" onmouseover="showTip(event, 'fs25', 43)" class="t">list</span> }

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 44)" onmouseover="showTip(event, 'fs26', 44)" class="i">Contact</span> <span class="o">=</span> <span class="i">Define</span><span class="o">.</span><span class="i">Object</span>(<span class="s">&quot;Contact&quot;</span>, [
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;phoneNr&quot;</span>, <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="i">String</span>, <span class="k">fun</span> _ <span class="i">c</span> <span class="k">-&gt;</span> <span class="i">c</span><span class="o">.</span><span class="i">PhoneNumber</span>)
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;email&quot;</span>, <span onmouseout="hideTip(event, 'fs27', 46)" onmouseover="showTip(event, 'fs27', 46)" class="i">String</span>, <span class="k">fun</span> _ <span class="i">c</span> <span class="k">-&gt;</span> <span class="i">c</span><span class="o">.</span><span class="i">Email</span>) ])

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 47)" onmouseover="showTip(event, 'fs28', 47)" class="i">Person</span> <span class="o">=</span> <span class="i">Define</span><span class="o">.</span><span class="i">Object</span>(<span class="s">&quot;Person&quot;</span>, [
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;fullName&quot;</span>, <span onmouseout="hideTip(event, 'fs27', 48)" onmouseover="showTip(event, 'fs27', 48)" class="i">String</span>, <span class="k">fun</span> _ <span class="i">p</span> <span class="k">-&gt;</span> <span class="i">p</span><span class="o">.</span><span class="i">FirstName</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="i">p</span><span class="o">.</span><span class="i">LastName</span>)
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;contacts&quot;</span>, <span class="i">ListOf</span> <span onmouseout="hideTip(event, 'fs26', 49)" onmouseover="showTip(event, 'fs26', 49)" class="i">Contact</span>, <span class="k">fun</span> _ <span class="i">p</span> <span class="k">-&gt;</span> <span class="i">p</span><span class="o">.</span><span class="i">Contacts</span>) ])

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 50)" onmouseover="showTip(event, 'fs1', 50)" class="i">schema</span> <span class="o">=</span> <span class="i">Schema</span>(<span class="i">Define</span><span class="o">.</span><span class="i">Object</span>(<span class="s">&quot;RootQuery&quot;</span>, [
    <span class="i">Define</span><span class="o">.</span><span class="i">Field</span>(<span class="s">&quot;people&quot;</span>, <span class="i">ListOf</span> <span onmouseout="hideTip(event, 'fs28', 51)" onmouseover="showTip(event, 'fs28', 51)" class="i">Person</span>, <span class="s">&quot;&quot;</span>, 
        [ <span class="i">Define</span><span class="o">.</span><span class="i">Input</span>(<span class="s">&quot;skip&quot;</span>, <span class="i">Int</span>); <span class="i">Define</span><span class="o">.</span><span class="i">Input</span>(<span class="s">&quot;take&quot;</span>, <span class="i">Int</span>) ], 
        <span class="k">fun</span> <span class="i">ctx</span> () <span class="k">-&gt;</span>  <span class="i">peopleList</span><span class="o">.</span><span class="i">AsQueryable</span>()<span class="o">.</span><span class="i">Apply</span>(<span class="i">ctx</span><span class="o">.</span><span class="i">ExecutionInfo</span>, <span class="i">ctx</span><span class="o">.</span><span class="i">Variables</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs3', 52)" onmouseover="showTip(event, 'fs3', 52)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 53)" onmouseover="showTip(event, 'fs4', 53)" class="i">toList</span>) ]))
</code></pre></td>
</tr>
</table>
<p>And query such as:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="graphql">{
    people(skip: 5, take: 10) {
        fullName
        contacts {
            email
        }
    }
}
</code></pre></td></tr></table>
<p>Once executed, a LINQ interpreter will produce equivalent similar in form to:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp">peopleList.AsQueryable()
    .Select(fun p <span class="o">-</span><span class="o">&gt;</span> { 
        Person.FirstName <span class="o">=</span> p.FirstName;
        LastName <span class="o">=</span> p.LastName;
        Contacts <span class="o">=</span> p.Contacts.Select(c <span class="o">=</span><span class="o">&gt;</span> {
            Contact.Email <span class="o">=</span> c.Email;
            PhoneNumber <span class="o">=</span> <span class="k">null</span>;
            }) <span class="o">|</span><span class="o">&gt;</span> Seq.toList })
    .Skip(<span class="n">5</span>)
    .Take(<span class="n">10</span>)
</code></pre></td></tr></table>

<div class="tip" id="fs1">val schema : obj<br /><br />Full name: linq.schema</div>
<div class="tip" id="fs2">val query : Linq.QueryBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.query</div>
<div class="tip" id="fs3">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs4">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toList</div>
<div class="tip" id="fs5">namespace System</div>
<div class="tip" id="fs6">namespace System.Data</div>
<div class="tip" id="fs7">namespace Microsoft.FSharp</div>
<div class="tip" id="fs8">namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs9">namespace Microsoft.FSharp.Linq</div>
<div class="tip" id="fs10">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs11">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs12">Multiple items<br />module Set<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Set&lt;&#39;T (requires comparison)&gt; =<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;interface ICollection&lt;&#39;T&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Add : value:&#39;T -&gt; Set&lt;&#39;T&gt;<br />&#160;&#160;member Contains : value:&#39;T -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member IsProperSubsetOf : otherSet:Set&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;member IsProperSupersetOf : otherSet:Set&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Set&lt;_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt;</div>
<div class="tip" id="fs13">val fold : folder:(&#39;State -&gt; &#39;T -&gt; &#39;State) -&gt; state:&#39;State -&gt; set:Set&lt;&#39;T&gt; -&gt; &#39;State (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Set.fold</div>
<div class="tip" id="fs14">val defaultArg : arg:&#39;T option -&gt; defaultValue:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.defaultArg</div>
<div class="tip" id="fs15">Multiple items<br />module Map<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member ContainsKey : key:&#39;Key -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member Remove : key:&#39;Key -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Map&lt;_,_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="tip" id="fs16">val empty&lt;&#39;Key,&#39;T (requires comparison)&gt; : Map&lt;&#39;Key,&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Map.empty</div>
<div class="tip" id="fs17">type Contact =<br />&#160;&#160;{Email: string;<br />&#160;&#160;&#160;PhoneNumber: string;}<br /><br />Full name: linq.Contact</div>
<div class="tip" id="fs18">Contact.Email: string</div>
<div class="tip" id="fs19">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs20">Contact.PhoneNumber: string</div>
<div class="tip" id="fs21">type Person =<br />&#160;&#160;{FirstName: string;<br />&#160;&#160;&#160;LastName: string;<br />&#160;&#160;&#160;Contacts: Contact list;}<br /><br />Full name: linq.Person</div>
<div class="tip" id="fs22">Person.FirstName: string</div>
<div class="tip" id="fs23">Person.LastName: string</div>
<div class="tip" id="fs24">Person.Contacts: Contact list</div>
<div class="tip" id="fs25">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs26">Multiple items<br />val Contact : obj<br /><br />Full name: linq.Contact<br /><br />--------------------<br />type Contact =<br />&#160;&#160;{Email: string;<br />&#160;&#160;&#160;PhoneNumber: string;}<br /><br />Full name: linq.Contact</div>
<div class="tip" id="fs27">module String<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs28">Multiple items<br />val Person : obj<br /><br />Full name: linq.Person<br /><br />--------------------<br />type Person =<br />&#160;&#160;{FirstName: string;<br />&#160;&#160;&#160;LastName: string;<br />&#160;&#160;&#160;Contacts: Contact list;}<br /><br />Full name: linq.Person</div>

        </div>
        <div class="span3">
          <img src="/FSharp.Data.GraphQL/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FSharp.Data.GraphQL</li>
            <li><a href="/FSharp.Data.GraphQL/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FSharp.Data.GraphQL">Get Library via NuGet</a></li>
            <li><a href="http://github.com/bazingatechnologies/FSharp.Data.GraphQL">Source Code on GitHub</a></li>
            <li><a href="/FSharp.Data.GraphQL/license.html">License</a></li>
            <li><a href="/FSharp.Data.GraphQL/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Documentation</li>
            <li><a href="/FSharp.Data.GraphQL/reference/index.html">API Reference</a></li>
            <li><a href="/FSharp.Data.GraphQL/type-system.html">Working with GraphQL type system</a></li>
            <li><a href="/FSharp.Data.GraphQL/execution-pipeline.html">Execution pipeline overview</a></li>
            <li><a href="/FSharp.Data.GraphQL/linq.html">Property tracking</a></li>
            <li><a href="/FSharp.Data.GraphQL/client-side.html">GraphQL on the client side</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/bazingatechnologies/FSharp.Data.GraphQL"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
